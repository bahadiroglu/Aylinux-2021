[paket]
tanim   = Nitelikli ses sunucusu
paketci = milisarge
grup    = medya
url     = http://www.pulseaudio.org

[gerek]
derleme = avahi fftw jack libsm libxtst libasyncns bluez libcap glib libsndfile libsoxr orc sbc speex tdb webrtc-audio-processing xcb-util
calisma = libsndfile libasyncns libsoxr orc avahi fftw jack speex sbc webrtc-audio-processing gst-plugins-base tdb

[kaynak]
xz     = https://freedesktop.org/software/pulseaudio/releases

[sha256]
#1       = 961b23ca1acfd28f2bc87414c27bb40e12436efcf2158d29721b1e89f3f28057

[derle]
betik   = cd $SRC
betik   = milis-meson $isim-$surum build -D gcov=false  -D pulsedsp-location='/usr/lib/pulseaudio' -D lirc=disabled -D elogind=disabled -D systemd=disabled -D tests=false -D stream-restore-clear-old-devices=true -D udevrulesdir=/usr/lib/udev/rules.d
betik   = meson compile -C build

[pakur]
betik   = cd $SRC
betik     = DESTDIR="$PKG" meson install -C build
betik     =  mv libpulse/* "$PKG"
betik     = mv zeroconf/* "$PKG"
betik     = mv lirc/* "$PKG"
betik     = mv jack/* "$PKG"
betik     = mv bluetooth/* "$PKG"
betik     = mv equalizer/* "$PKG"
betik     = mv rtp/* "$PKG"
betik     =  cd "$PKG"
betik     =  sed -e '/autospawn/iautospawn = no' -i etc/pulse/client.conf
betik     =  sed -e 's|/usr/bin/pactl load-module module-x11-cork-request|#&|' -i usr/bin/start-pulseaudio-x11
betik     =  sed -e '/Load several protocols/aload-module module-dbus-protocol' -i etc/pulse/default.pa
betik     =  rm -fv $PKG/etc/dbus-1/system.d/pulseaudio-system.conf
#betik   = rm -rf ${PKG}/etc/{dbus-1,sysconfig}
#betik   = sed -i "s/start-pulseaudio-x11/pulseaudio -D/g" $PKG/etc/xdg/autostart/pulseaudio.desktop
betik     =  rm $PKG/usr/lib/libpulse-mainloop-glib.la
betik     =  rm $PKG/usr/lib/libpulse-simple.la
betik     =  rm $PKG/usr/lib/libpulse.la
betik     =  rm $PKG/usr/lib/pulseaudio/libpulsecommon-$surum.la
betik     =  rm $PKG/usr/lib/pulseaudio/libpulsecore-$surum.la
betik     =  rm $PKG/usr/lib/pulseaudio/libpulsedsp.la
